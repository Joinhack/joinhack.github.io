<?xml version="1.0"?>
<rss version="2.0">
  <channel>
    <title>Joinhack&#39;s Blog</title>
    <link>http://sample.com</link>
    <pubDate>2015-05-18 02:45:36 +0800</pubDate>
    <item>
      <title>三色垃圾回收</title>
      <link>http://sample.com/垃圾回收/三色垃圾回收/</link>
      <pubDate>2015-05-15 12:00:00 +0800</pubDate>
      <description>&lt;h2&gt;三色垃圾回收&lt;/h2&gt;

&lt;p&gt;三色垃圾回收算法中的3个颜色分别是 白、黑、灰.三色垃圾回收算法大致如下:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;将初始化的对象置为白色&lt;/li&gt;
&lt;li&gt;所有根(全局变量或栈上的变量)可及的对象置为灰色&lt;/li&gt;
&lt;li&gt;遍历这些被置位灰色的对象，灰色对象引用到的对象都置为灰色，完成对灰色变量的遍历后，将灰色对象置为黑色&lt;/li&gt;
&lt;li&gt;继续遍历其他被灰色对象&lt;/li&gt;
&lt;li&gt;所有灰色对象遍历完后，就只会剩下黑色的和白色的对象&lt;/li&gt;
&lt;li&gt;所有这些黑色的对象都是根可达的，白色的都是根不可达的，白色对象都删除掉。&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;以上步骤就是三色标记法的理论了。 非常简单吧， 至少在STW(STOP THE WORLD)的情况下.&lt;/p&gt;

&lt;p&gt;但是在mutator（非GC代码，用户的代码）和GC同时工作的时候要满足 &lt;strong&gt;黑色对象只会引用灰色的对象或其他黑色对象。&lt;/strong&gt; 变得复杂起来了。&lt;/p&gt;
</description>
    </item>
    <item>
      <title>redis的hash表</title>
      <link>http://sample.com/redis/redis的hash表/</link>
      <pubDate>2015-05-10 12:00:00 +0800</pubDate>
      <description>&lt;h2&gt;redis的hash表&lt;/h2&gt;

&lt;p&gt;首先还是先说说hash表是什么？ 很多语言有不同的定义 java中的HashMap HashTable， golang中的map都是hash表的实现。大致原理如下：&lt;/p&gt;

&lt;p&gt;hash表添加KEY-VALUE&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;1). 将KEY计算hash，将KEY的hash值与bulks数求莫后找到对应bulk. 如果bulk有值循环整个bulk对应的KEY-VALUE 如果bulk中的KEY与加入的KEY相等 就覆盖其VALUE， 如果不等就追加到bulk后面。
2). 达到占用bulks的阀值expand bulks, 遍历已有的数据重新加入扩展后的bulks中。
3). 未达到阀值，完成hash插入操作。
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;hash表删除KEY&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;1). 将KEY计算hash，将KEY的hash值与bulks数求莫后 找到对应的bulk。
2). 遍历整个bulk依次对比KEY， 找到与KEY相等的KEY-VALUE将其移除。
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;hash表查找KEY的对象&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;1). 将KEY计算hash，将KEY的hash值与bulks数求莫后 找到对应的bulk。
2). 遍历整个bulk依次对比KEY， 找到与KEY相等的KEY-VALUE将VALUE返回。
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;上面就是hash表的工作原理。总体来说hash表的查询都是O(1) 删除也算是O(1), 从整体上来看也是一个O(1)操作， 这里不考虑hash碰撞的情况（如果碰撞最坏情况就变成O(N)）。 但是事实上如果插入非常频繁，从步骤就能看出, 就会经常expand， 这样插入肯定不会是O(1)的。&lt;/p&gt;

&lt;p&gt;redis的提供的数据结构之一也是hash表，但是redis的hash表明显做的写优化， 就算是频繁插入也能达到O(1)的时间复杂度。下面就是redis的hash表结构。&lt;/p&gt;
</description>
    </item>
  </channel>
</rss>